import{d as $,l as r,I as K,p as N,f as H,P,q as e,w as t,h as a,aF as j,K as q,c as G,r as C,o as E,e as u,x as d,A as V,aG as i,t as x,ac as O,aH as Q,B as J,z as f,E as L,D as g,H as R,ag as W,a0 as X,aI as Y,_ as Z}from"./index-CDm0RDJi.js";const ee={class:"user-list"},ae={class:"toolbar"},le=$({__name:"AdminUser",setup(te){const k=r([]),v=r(!1),y=r(1),w=r(0),_=r(""),p=r(!1),b=r(""),n=r({id:0,name:"",role:2,avatar:""}),h=s=>["管理员","裁判","用户"][s]||"未知",D=s=>["danger","warning",""][s]||"",m=async()=>{v.value=!0,v.value=!1},c=()=>{y.value=1,m()},U=()=>{b.value="新增用户",n.value={id:0,name:"",role:2,avatar:""},p.value=!0},B=s=>{},T=s=>{Y.confirm(`确定删除用户 "${s.name}"?`,"提示",{type:"warning"}).then(async()=>{})},I=s=>{n.value.avatar=s.url},z=async()=>{};return K(()=>{m()}),(s,l)=>{const A=C("el-tag"),S=C("el-pagination"),F=q("loading");return E(),N("div",ee,[H("div",ae,[e(a(d),{type:"primary",onClick:U},{default:t(()=>l[5]||(l[5]=[u("新增用户")])),_:1}),e(a(V),{modelValue:_.value,"onUpdate:modelValue":l[0]||(l[0]=o=>_.value=o),placeholder:"搜索用户",style:{width:"300px","margin-left":"10px"},clearable:"",onClear:c,onKeyup:j(c,["enter"])},{append:t(()=>[e(a(d),{icon:"search",onClick:c})]),_:1},8,["modelValue"])]),P((E(),G(a(Q),{data:k.value,border:"",style:{width:"100%","margin-top":"20px"}},{default:t(()=>[e(a(i),{prop:"id",label:"ID",width:"80"}),e(a(i),{prop:"name",label:"名称"}),e(a(i),{prop:"role",label:"角色"},{default:t(({row:o})=>[e(A,{type:D(o.role)},{default:t(()=>[u(x(h(o.role)),1)]),_:2},1032,["type"])]),_:1}),e(a(i),{prop:"register",label:"注册时间"},{default:t(({row:o})=>[u(x(a(O)(o.register)),1)]),_:1}),e(a(i),{label:"操作",width:"180"},{default:t(({row:o})=>[e(a(d),{size:"small",onClick:M=>B(o)},{default:t(()=>l[6]||(l[6]=[u("编辑")])),_:2},1032,["onClick"]),e(a(d),{size:"small",type:"danger",onClick:M=>T(o)},{default:t(()=>l[7]||(l[7]=[u(" 删除 ")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[F,v.value]]),e(S,{"current-page":y.value,"page-size":50,total:w.value,layout:"total, prev, pager, next, jumper",onSizeChange:m,onCurrentChange:m},null,8,["current-page","total"]),e(a(X),{modelValue:p.value,"onUpdate:modelValue":l[4]||(l[4]=o=>p.value=o),title:b.value},{footer:t(()=>[e(a(d),{onClick:l[3]||(l[3]=o=>p.value=!1)},{default:t(()=>l[8]||(l[8]=[u("取消")])),_:1}),e(a(d),{type:"primary",onClick:z},{default:t(()=>l[9]||(l[9]=[u("确认")])),_:1})]),default:t(()=>[e(a(J),{model:n.value,"label-width":"100px"},{default:t(()=>[e(a(f),{label:"用户名"},{default:t(()=>[e(a(V),{modelValue:n.value.name,"onUpdate:modelValue":l[1]||(l[1]=o=>n.value.name=o)},null,8,["modelValue"])]),_:1}),e(a(f),{label:"角色"},{default:t(()=>[e(a(L),{modelValue:n.value.role,"onUpdate:modelValue":l[2]||(l[2]=o=>n.value.role=o)},{default:t(()=>[e(a(g),{label:"管理员",value:0}),e(a(g),{label:"裁判",value:1}),e(a(g),{label:"用户",value:2})]),_:1},8,["modelValue"])]),_:1}),e(a(f),{label:"头像"},{default:t(()=>[e(a(R),{action:"/api/upload","show-file-list":!1,"on-success":I},{default:t(()=>[e(a(W),{src:n.value.avatar},null,8,["src"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])}}}),ne=Z(le,[["__scopeId","data-v-a01e23b7"]]);export{ne as default};
