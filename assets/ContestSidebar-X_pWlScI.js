import{m as E}from"./markdown-B4gdZ8Sn.js";import{d as M,l as k,ak as I,p as s,o as n,a1 as L,a5 as N,Q as x,n as V,I as j,al as H,r as P,g as T,q as r,w as c,s as b,f as l,t as g,h as i,am as R,an as z,e as y,v as D,ao as q,M as F,x as Q,_ as U}from"./index-CDm0RDJi.js";const A=["innerHTML"],ne=M({__name:"MdRender",props:{content:{}},setup(h){const o=k(""),a=h;return I(()=>{E(a.content).then(e=>{o.value=e})}),(e,d)=>(n(),s("div",{class:"markdown-wrap",innerHTML:o.value},null,8,A))}}),G={key:0,class:"contest-sidebar"},J={class:"contest-info"},K={class:"contest-time"},O={key:0},W={key:1},X={class:"problem-badges"},Y=["onClick"],Z=M({__name:"ContestSidebar",setup(h){const o=L(),a=N(),e=x(()=>a.currentContest),d=x(()=>a.currentRanking),u=k(0),m=k(1);function _(){e.value&&(u.value=Math.max(0,e.value.endTime.getTime()-Date.now()),m.value=e.value.endTime.getTime()-e.value.startTime.getTime())}V(e,_);function $(v){if(!d.value)return"";for(const t of d.value.results)if(t.problem==v)switch(t.judge){case"correct":return"status-success";case"incorrect":return"status-danger";default:return"status-warning"}return""}function B(v,t){e.value&&o.push(`/contest/${e.value.id}/${t}`)}function S(){a.exit(),o.push("/contest")}let C;return j(()=>{_(),C=window.setInterval(_,1e3)}),H(()=>{clearInterval(C)}),(v,t)=>{const p=P("router-link");return e.value?(n(),s("div",G,[r(i(F),null,{default:c(()=>[e.value?(n(),s(b,{key:0},[l("div",J,[r(p,{to:`/contest/${e.value.id}`},{default:c(()=>[l("h3",null,g(e.value.title),1)]),_:1},8,["to"]),l("div",K,[r(i(R),{percentage:100*(m.value-u.value)/m.value,"stroke-width":15,striped:"","show-text":!1},null,8,["percentage"]),l("div",null,[u.value>0?(n(),s("span",O,"剩余时间 "+g(i(z)(u.value)),1)):(n(),s("span",W,"比赛已结束")),r(p,{class:"link-ranklist",to:`/contest/${e.value.id}/ranklist`},{default:c(()=>t[0]||(t[0]=[y(" 排行榜 ")])),_:1},8,["to"])])])]),l("div",X,[(n(!0),s(b,null,D(e.value.problems,(w,f)=>(n(),s("div",{key:f,class:q(["problem-badge",$(w)]),onClick:ee=>B(w,f)},g(f),11,Y))),128))])],64)):T("",!0)]),_:1}),r(i(Q),{type:"primary",onClick:S},{default:c(()=>t[1]||(t[1]=[y("退出比赛模式")])),_:1})])):T("",!0)}}}),oe=U(Z,[["__scopeId","data-v-6331db5c"]]);export{oe as C,ne as _};
